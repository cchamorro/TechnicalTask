@{
    ViewBag.Title = "Customers By Country";
}

<div class="container">
    <h2>Search Customers By Country</h2>
    <input type="text" id="country" class="form-control" placeholder="Enter Country" />
    <button id="searchBtn" class="btn btn-primary">Search</button>

    <div id="customersGrid"></div>
</div>

<script>
    $(document).ready(function () {
        $("#searchBtn").click(function () {
            var country = $("#country").val();
            $.post('/Customer/SearchCustomers', { country: country }, function (data) {
                $("#customersGrid").kendoGrid({
                    dataSource: {
                        data: data,
                        schema: { model: { fields: { CustomerId: { type: "string" }, CompanyName: { type: "string" }, ContactName: { type: "string" }, Phone: { type: "string" }, Fax: { type: "string" } } } }
                    },
                    columns: [
                        { field: "customerId", title: "Customer ID", template: "<a href='/Customer/CustomerOrdersInformation?customerId=#=customerId#'>#=customerId#</a>" },
                        { field: "companyName", title: "Company Name" },
                        { field: "contactName", title: "Contact Name" },
                        { field: "phone", title: "Phone Number" },
                        { field: "fax", title: "Fax Number" }
                    ]
                });
            });
        });
    });
</script>
